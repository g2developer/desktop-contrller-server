# 데스크탑 컨트롤러 서버 (Desktop Controller Server)

데스크탑 컨트롤러 서버는 원격에서 모바일 앱을 통해 데스크탑을 제어할 수 있는 시스템의 서버 측 애플리케이션입니다. 이 앱은 Electron.js를 기반으로 개발되어 Windows, macOS, Linux와 같은 다양한 운영체제에서 실행될 수 있습니다.

## 주요 기능

### 1. 원격 접속 관리
- 모바일 앱(클라이언트)에서 서버 앱으로의 원격 접속을 처리합니다.
- 소켓 통신(Socket.io)을 통해 실시간 양방향 통신을 지원합니다.
- 여러 클라이언트의 동시 연결을 관리합니다.

### 2. 사용자 인증 시스템
- 텍스트 파일 기반 사용자 정보 관리 시스템을 제공합니다.
- 사용자 추가/수정/삭제 기능을 갖춘 관리자 인터페이스를 지원합니다.
- 클라이언트 앱에서 로그인 요청 시 사용자 인증을 수행합니다.

### 3. 원격 명령 실행
- 클라이언트로부터 받은 명령을 데스크탑의 클로드 앱으로 전달합니다.
- 자동화된 키보드 입력 및 마우스 클릭을 통해 명령을 실행합니다.
- 명령 실행 중 자동 스크롤 및 UI 요소 인식 기능을 지원합니다.

### 4. AI 응답 화면 캡처 및 전송
- 클로드 앱의 AI 응답 영역을 선별적으로 캡처합니다.
- 캡처된 이미지를 실시간으로 모바일 클라이언트에 전송합니다.
- 이미지 최적화를 통해 효율적인 데이터 전송을 지원합니다.

### 5. 연결 상태 모니터링
- 연결된 모바일 클라이언트의 상태를 실시간으로 모니터링합니다.
- 연결 해제 시 자동 재연결 메커니즘을 제공합니다.
- 시스템 상태 및 연결 로그를 시각적으로 표시합니다.

## 기술 스택

- **Electron.js**: 크로스 플랫폼 데스크탑 애플리케이션 프레임워크
- **React**: 사용자 인터페이스 개발 라이브러리
- **Socket.io**: 실시간 양방향 통신 라이브러리
- **Express**: 웹 서버 프레임워크
- **robotjs**: 키보드/마우스 자동화 라이브러리
- **screenshot-desktop**: 화면 캡처 라이브러리
- **electron-store**: 설정 및 데이터 영구 저장 라이브러리

## 시스템 요구사항

- **운영체제**: Windows 10 이상, macOS 10.13 이상, Ubuntu 18.04 이상
- **메모리**: 최소 4GB RAM
- **디스크 공간**: 최소 500MB 여유 공간
- **네트워크**: 인터넷 연결 필수
- **기타**: 클로드 데스크탑 앱 설치 필요

## 설치 및 실행 방법

### 개발 환경 설정
```bash
# 저장소 클론
git clone https://github.com/your-username/desktop-controller-server.git

# 디렉토리 이동
cd desktop-controller-server

# 의존성 설치
npm install

# 개발 모드 실행
npm run dev
```

### 애플리케이션 빌드
```bash
# Windows용 빌드
npm run build:win

# macOS용 빌드
npm run build:mac

# Linux용 빌드
npm run build:linux
```

### 실행 파일 위치
빌드 후 실행 파일은 `dist` 폴더에 생성됩니다:
- Windows: `dist/desktop-controller-server-win.exe`
- macOS: `dist/desktop-controller-server-mac.dmg`
- Linux: `dist/desktop-controller-server-linux.AppImage`

## 설정 및 구성

### 서버 포트 설정
기본 포트는 `8003`입니다. 변경이 필요한 경우 `.env` 파일에서 설정할 수 있습니다:
```
SERVER_PORT=8003
```

### 사용자 관리
사용자 정보는 `data/users.json` 파일에 저장됩니다. 애플리케이션 내 관리자 인터페이스를 통해 관리하거나, 직접 파일을 편집할 수 있습니다.

### 캡처 설정
AI 응답 영역 캡처 설정은 `Settings` 메뉴에서 조정할 수 있습니다:
- 캡처 영역 선택
- 캡처 품질 및 크기 조정
- 자동 캡처 간격 설정

## 문제 해결

### 연결 문제
- 방화벽 설정 확인: 포트 8003이 열려 있는지 확인하세요.
- 네트워크 연결 확인: 서버와 클라이언트가 같은 네트워크에 연결되어 있는지 확인하세요.
- IP 주소 확인: 서버의 IP 주소가 올바르게 설정되었는지 확인하세요.

### 자동화 문제
- 클로드 앱 확인: 클로드 데스크탑 앱이 올바르게 설치되어 있는지 확인하세요.
- 화면 해상도 확인: 화면 해상도가 권장 설정(1920x1080)과 일치하는지 확인하세요.
- 권한 확인: 애플리케이션이 화면 캡처 및 입력 자동화 권한을 가지고 있는지 확인하세요.

## 보안 고려사항

- 서버는 로컬 네트워크 내에서만 사용하도록 설계되었습니다.
- 공용 인터넷에 서버를 노출시키지 마십시오.
- 강력한 비밀번호를 사용하고 정기적으로 변경하세요.
- 사용하지 않을 때는 서버를 종료하는 것이 좋습니다.

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 자세한 내용은 LICENSE 파일을 참조하세요.
